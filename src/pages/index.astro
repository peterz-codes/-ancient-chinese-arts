---
import BaseLayout from '../layouts/BaseLayout.astro';
import { chapters } from '../data/chapters';

const featured = chapters.slice(0, 6);
---

<BaseLayout title="首页">
  <!-- Hero Section -->
  <section class="relative overflow-hidden">
    <!-- Background pattern -->
    <div class="absolute inset-0 opacity-5"
      style="background-image: repeating-linear-gradient(45deg, #8B1A1A 0, #8B1A1A 1px, transparent 0, transparent 50%); background-size: 20px 20px;">
    </div>

    <div class="relative max-w-6xl mx-auto px-6 py-20 md:py-28">
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <!-- Text -->
        <div>
          <p class="text-gold text-sm tracking-[0.3em] mb-4 flex items-center gap-3">
            <span class="w-8 h-px bg-gold inline-block"></span>
            道家养生经典文献
          </p>
          <h1 class="font-display text-6xl md:text-7xl text-vermil mb-2 leading-none tracking-wider">
            古代
          </h1>
          <h1 class="font-display text-6xl md:text-7xl text-ink mb-6 leading-none tracking-wider">
            房中术
          </h1>
          <p class="text-sepia text-lg leading-relaxed mb-8 max-w-md">
            汇集数千年道家传统智慧，以阴阳五行为纲，
            系统呈现古代房室养生与气功修炼的完整体系。
            中华文明对生命科学的深刻探索，
            远早于西方性科学之兴起。
          </p>
          <div class="flex flex-wrap gap-4">
            <a href="/chapters"
              class="inline-block px-8 py-3 bg-vermil text-paper text-sm tracking-widest hover:bg-vermil-light transition-colors duration-200">
              浏览全部篇目
            </a>
            <a href="/context"
              class="inline-block px-8 py-3 border border-sepia text-sepia text-sm tracking-widest hover:border-vermil hover:text-vermil transition-colors duration-200">
              历史背景
            </a>
          </div>
        </div>

        <!-- Book cover placeholder -->
        <div class="flex justify-center">
          <div class="img-placeholder w-64 h-80 md:w-72 md:h-96 relative">
            <!-- Decorative frame -->
            <div class="absolute inset-3 border border-gold opacity-60"></div>
            <div class="absolute inset-5 border border-gold opacity-30"></div>
            <!-- Center content -->
            <div class="relative z-10 text-center px-6">
              <div class="font-display text-vermil text-4xl mb-4 leading-none">古</div>
              <div class="w-px h-16 bg-border mx-auto mb-4"></div>
              <div class="text-sepia text-xs tracking-[0.4em] leading-loose">
                房<br/>中<br/>術<br/>圖<br/>像
              </div>
              <div class="w-px h-16 bg-border mx-auto mt-4"></div>
            </div>
            <div class="absolute bottom-4 left-0 right-0 text-center text-sepia text-xs tracking-widest opacity-60">
              封面图像（待更新）
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Stats bar -->
  <div class="border-y border-border bg-paper-dark">
    <div class="max-w-6xl mx-auto px-6 py-6">
      <div class="grid grid-cols-3 gap-6 text-center">
        <div>
          <div class="text-2xl font-semibold text-vermil">四十</div>
          <div class="text-xs text-sepia tracking-widest mt-1">篇章</div>
        </div>
        <div class="border-x border-border">
          <div class="text-2xl font-semibold text-vermil">三千</div>
          <div class="text-xs text-sepia tracking-widest mt-1">年传承</div>
        </div>
        <div>
          <div class="text-2xl font-semibold text-vermil">道家</div>
          <div class="text-xs text-sepia tracking-widest mt-1">经典体系</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Introduction -->
  <section class="max-w-6xl mx-auto px-6 py-16">
    <div class="max-w-3xl mx-auto text-center">
      <div class="divider">
        <span class="text-gold text-sm tracking-widest px-4">学术导言</span>
      </div>
      <blockquote class="text-sepia text-lg leading-relaxed italic mt-8 mb-6 px-4 border-l-2 border-gold text-left">
        "房中术是中国古代最重要的养生方法之一……不仅对中国文化有深远影响，
        也是全球人类最古老的性科学体系之一，比西方性科学的建立早三千余年。"
      </blockquote>
      <p class="text-sepia text-sm leading-relaxed">
        "房中术"（fángzhōng shù）是中国古代道家医学体系的重要组成部分，
        历史上记载于《汉书·艺文志》、马王堆汉墓出土文献以及众多道藏典籍之中。
        本书以学术研究的视角，系统整理与诠释这一延续数千年的传统文化遗产。
      </p>
    </div>
  </section>

  <!-- Featured Chapters -->
  <section class="max-w-6xl mx-auto px-6 pb-16">
    <div class="flex items-end justify-between mb-8">
      <div>
        <div class="text-gold text-xs tracking-[0.3em] mb-2">精选篇章</div>
        <h2 class="text-2xl font-semibold text-ink tracking-wider">核心章节导览</h2>
      </div>
      <a href="/chapters" class="text-sm text-sepia hover:text-vermil tracking-wider transition-colors border-b border-transparent hover:border-vermil pb-0.5">
        全部四十篇 →
      </a>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-5">
      {featured.map(chapter => (
        <a href={`/chapters/${chapter.id}`} class="chapter-card p-5 block">
          <div class="flex items-start gap-3 mb-3">
            <span class="text-xs text-gold tracking-widest bg-paper px-2 py-1 border border-border shrink-0 mt-0.5">
              第{chapter.id}篇
            </span>
            <span class="text-xs text-sepia tracking-wider">{chapter.category}</span>
          </div>
          <h3 class="text-base font-semibold text-ink mb-2 tracking-wider leading-snug">
            {chapter.title}
          </h3>
          <p class="text-sepia text-xs leading-relaxed line-clamp-3">
            {chapter.summary}
          </p>
          <div class="mt-3 pt-3 border-t border-border flex items-center justify-between">
            <span class="text-xs text-sepia/60 tracking-wider">第 {chapter.page} 页</span>
            <span class="text-xs text-vermil tracking-wider opacity-0 group-hover:opacity-100 transition-opacity">阅读 →</span>
          </div>
        </a>
      ))}
    </div>
  </section>

  <!-- Three pillars section -->
  <section class="bg-paper-dark border-y border-border py-16">
    <div class="max-w-6xl mx-auto px-6">
      <div class="text-center mb-10">
        <div class="text-gold text-xs tracking-[0.3em] mb-2">学术价值</div>
        <h2 class="text-2xl font-semibold text-ink tracking-wider">三大研究维度</h2>
      </div>

      <div class="grid md:grid-cols-3 gap-8">
        <div class="text-center">
          <div class="w-16 h-16 border-2 border-vermil mx-auto flex items-center justify-center mb-4">
            <span class="font-display text-vermil text-2xl">道</span>
          </div>
          <h3 class="font-semibold text-ink tracking-wider mb-3">道家哲学</h3>
          <p class="text-sepia text-sm leading-relaxed">
            以阴阳五行、精气神理论为核心，
            探讨宇宙运行规律在人体养生中的具体应用。
          </p>
        </div>
        <div class="text-center">
          <div class="w-16 h-16 border-2 border-gold mx-auto flex items-center justify-center mb-4">
            <span class="font-display text-gold text-2xl">医</span>
          </div>
          <h3 class="font-semibold text-ink tracking-wider mb-3">传统医学</h3>
          <p class="text-sepia text-sm leading-relaxed">
            融合中医经络、脏腑理论，
            是研究中国古代医学与养生实践的珍贵第一手史料。
          </p>
        </div>
        <div class="text-center">
          <div class="w-16 h-16 border-2 border-sepia mx-auto flex items-center justify-center mb-4">
            <span class="font-display text-sepia text-2xl">史</span>
          </div>
          <h3 class="font-semibold text-ink tracking-wider mb-3">文化史学</h3>
          <p class="text-sepia text-sm leading-relaxed">
            涵盖《洞玄子》等唐代文献，
            为研究中国性别史、医学史与道教文化史提供重要佐证。
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="max-w-6xl mx-auto px-6 py-20 text-center">
    <div class="max-w-xl mx-auto">
      <div class="font-display text-5xl text-vermil/20 mb-4">❖</div>
      <h2 class="text-2xl font-semibold text-ink tracking-wider mb-4">探索完整篇目</h2>
      <p class="text-sepia text-sm leading-relaxed mb-8">
        全书共四十篇，涵盖道家哲学基础、气功修炼方法、医学理论与古典文献研究，
        系统完整地呈现中国古代房室养生文化的全貌。
      </p>
      <a href="/chapters"
        class="inline-block px-10 py-3 bg-vermil text-paper text-sm tracking-widest hover:bg-vermil-light transition-colors duration-200">
        浏览全部四十篇
      </a>
    </div>
  </section>
</BaseLayout>
